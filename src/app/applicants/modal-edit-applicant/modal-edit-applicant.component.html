<div *ngIf="showModal" class="fixed inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm z-50">
  <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl p-6 animate-fade-in max-h-[80vh] overflow-y-auto">
    <h2 class="text-2xl font-bold mb-6 text-gray-800">Editar Aspirante</h2>

    <form *ngIf="selectedApplicant" class="grid grid-cols-6 gap-4">
      <!-- Ficha -->
      <div class="col-span-2">
        <label class="block mb-1 text-sm font-medium text-gray-600">Ficha</label>
        <input type="text" [(ngModel)]="selectedApplicant.ficha" name="ficha"
               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" />
      </div>

      <!-- CURP -->
      <div class="col-span-4">
        <label class="block mb-1 text-sm font-medium text-gray-600">CURP</label>
        <input type="text" [(ngModel)]="selectedApplicant.curp" name="curp"
               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" />
      </div>

      <!-- Nombre -->
      <div class="col-span-6">
        <label class="block mb-1 text-sm font-medium text-gray-600">Nombre</label>
        <input type="text" [(ngModel)]="selectedApplicant.fullName" name="fullName"
               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" />
      </div>

      <!-- Carrera (solo si no estamos en /cargarresultados) -->
      <div class="col-span-3" *ngIf="currentRoute !== '/cargarresultados'">
        <label class="block mb-1 text-sm font-medium text-gray-600">Carrera</label>
        <select [(ngModel)]="selectedApplicant.career" name="career"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
          <option value="" disabled>Seleccione una carrera</option>
          <option *ngFor="let c of carrerasDisponibles" [value]="c">{{ c }}</option>
        </select>
      </div>

      <!-- Sala de examen (siempre visible) -->
      <div class="col-span-3">
        <label class="block mb-1 text-sm font-medium text-gray-600">Sala de examen</label>
        <select [(ngModel)]="selectedApplicant.examRoom" name="examRoom"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
          <option value="" disabled>Seleccione una sala</option>
          <option *ngFor="let s of salasDisponibles" [value]="s">{{ s }}</option>
        </select>
      </div>

    </form>

    <!-- Botones -->
    <div class="mt-6 flex justify-end gap-3">
      <button (click)="onSave()" class="px-4 py-2 bg-[#548e88] text-white rounded-lg hover:bg-[#29726b]">
        Guardar
      </button>
      <button (click)="onClose()" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600">
        Cerrar
      </button>
    </div>
  </div>
</div>
